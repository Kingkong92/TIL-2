[toc]

# Day42 딥러닝을 위한 빅데이터 기초 - R(11)

# TFIDF

- TFIDF = TF * IDF
- TF : 문서에 등장한 단어의 개수
- IDF : N/(1+DF)
  - N : 문서의 개수
  - DF : 단어가 등장한 문서의 개수
- TFIDF값이 커지기 위해서는 TF커지면서 IDF가 커져야함

```R
library(tm)

my.text.location = "C:/Users/student/Desktop/R_script/논문data/ymbaek_papers"

mypaper = VCorpus(DirSource(my.text.location))

library(stringr)
mycorpus = tm_map(mypaper, removeNumbers)

mycorpus = tm_map(mycorpus, removePunctuation)
mycorpus = tm_map(mycorpus, stripWhitespace)
mycorpus = tm_map(mycorpus, content_transformer(tolower))
mycorpus = tm_map(mycorpus, removeWords, 
                  words = stopwords("SMART"))
mycorpus = tm_map(mycorpus, stemDocument, language = "en")

dtm.e = DocumentTermMatrix(mycorpus)

dtm.e.tfidf = DocumentTermMatrix(
  mycorpus, 
  control = list(weighting = function(x) weightTfIdf(x, normalize = FALSE)))

inspect(dtm.e.tfidf)
## <<DocumentTermMatrix (documents: 24, terms: 694)>>
## Non-/sparse entries: 1370/15286
## Sparsity           : 92%
## Maximal term length: 18
## Weighting          : term frequency - inverse document frequency (tf-idf)
## Sample             :
##             Terms
## Docs          ambival    cultur  depress    onlin    polit     poll privaci
##   p2009b.txt 0.000000  0.000000  0.00000 0.000000 5.052138  0.00000       0
##   p2011a.txt 7.169925  0.000000  0.00000 0.000000 7.578206  0.00000       0
##   p2012b.txt 0.000000  0.000000  0.00000 0.000000 0.000000  0.00000       0
##   p2013a.txt 0.000000  0.000000  0.00000 1.415037 0.000000  0.00000       0
##   p2014c.txt 0.000000  0.000000 32.09474 0.000000 0.000000  0.00000       0
##   p2014d.txt 0.000000  0.000000  0.00000 7.075187 0.000000 17.92481      15
##   p2014f.txt 0.000000  0.000000  0.00000 2.830075 0.000000  0.00000      24
##   p2015a.txt 0.000000 38.774438  0.00000 2.830075 0.000000  0.00000       0
##   p2015b.txt 0.000000  2.584963  0.00000 1.415037 1.263034  0.00000       0
##   p2015c.txt 0.000000  0.000000  0.00000 0.000000 1.263034  0.00000       0
##             Terms
## Docs         relationship       sns trust
##   p2009b.txt     0.000000  0.000000     0
##   p2011a.txt     0.000000  0.000000     0
##   p2012b.txt     0.000000  0.000000     0
##   p2013a.txt    23.264663 13.578206     6
##   p2014c.txt     0.000000  0.000000     0
##   p2014d.txt     0.000000  0.000000     0
##   p2014f.txt     0.000000  0.000000     0
##   p2015a.txt     2.584963  0.000000     0
##   p2015b.txt     0.000000  2.263034     0
##   p2015c.txt     0.000000  0.000000     0
```

- TF는 크지만, TFIDF는 작은 단어들 검출

```R
head(as.matrix(dtm.e))
##             Terms
## Docs         ‘buycotting’ ‘optin’ ‘optout’ “noticeandconsent” abstract
##   p2009a.txt              0         0          0                    0        0
##   p2009b.txt              0         0          0                    0        0
##   p2010a.txt              0         0          0                    0        0
##   p2010b.txt              0         0          0                    0        0
##   p2010c.txt              1         0          0                    0        0
##   p2011a.txt              0         0          0                    0        0
##             Terms
## Docs         academ access accid account achiev action activ actor adapt add
##   p2009a.txt      0      0     0       0      0      0     0     0     0   0
##   p2009b.txt      0      0     0       1      0      0     0     0     0   1
##   p2010a.txt      0      0     0       0      0      0     1     0     0   1
##   p2010b.txt      0      0     0       0      0      0     0     0     0   0
##   p2010c.txt      1      0     0       0      0      0     1     0     0   0
##   p2011a.txt      0      0     0       0      0      0     0     0     0   0
##             Terms
## Docs         addict addit administ adopt adult advanc advent affect affili
##   p2009a.txt      0     0        0     0     0      0      0      0      0
##   p2009b.txt      0     0        0     0     0      0      0      0      0
##   p2010a.txt      0     0        0     0     1      0      0      3      0
##   p2010b.txt      0     0        0     1     0      0      0      0      0
##   p2010c.txt      0     0        0     0     0      0      0      0      0
##   p2011a.txt      0     0        0     0     0      0      0      0      2
##             Terms
## Docs         affirm african aftermath age agenc agenda aim altern ambival
##   p2009a.txt      0       0         0   0     0      0   0      0       0
##   p2009b.txt      0       0         0   0     0      0   0      0       0
##   p2010a.txt      0       0         0   0     0      0   0      0       0
##   p2010b.txt      0       0         0   0     0      0   0      1       7
##   p2010c.txt      0       0         0   0     0      1   0      0       0
##   p2011a.txt      0       0         0   0     0      0   0      0       2
##             Terms
## Docs         american amount analys analysi analyt analyz andor anger annenberg
##   p2009a.txt        0      0      1       1      0      0     0     0         0
##   p2009b.txt        0      0      0       0      0      0     0     0         1
##   p2010a.txt        1      0      0       0      0      0     0     0         0
##   p2010b.txt        0      0      0       0      0      0     0     0         0
##   p2010c.txt        0      0      0       0      0      0     0     0         0
##   p2011a.txt        0      0      0       0      1      0     0     0         0
##             Terms
## Docs         anteced anxiousambival applic approach approxim argu argument
##   p2009a.txt       0              0      0        0        0    0        0
##   p2009b.txt       0              0      0        0        0    1        0
##   p2010a.txt       0              0      0        0        0    0        0
##   p2010b.txt       1              0      0        0        0    0        0
##   p2010c.txt       0              0      0        0        0    0        0
##   p2011a.txt       0              0      0        0        0    0        0
##             Terms
## Docs         arous asian assess associ assum assur athlet attach attend attent
##   p2009a.txt     0     0      1      0     0     1      0      0      0      0
##   p2009b.txt     0     0      0      0     0     0      0      0      0      0
##   p2010a.txt     0     0      1      0     0     0      0      0      1      0
##   p2010b.txt     0     0      0      0     0     0      0      0      0      0
##   p2010c.txt     0     0      0      0     0     0      0      0      0      0
##   p2011a.txt     0     0      0      0     0     0      0      0      0      0
##             Terms
## Docs         attitud attract attribut audienc audiences’ augment autom avoid
##   p2009a.txt       0       0        1       0           0       0     0     0
##   p2009b.txt       0       0        0       0           0       0     0     0
##   p2010a.txt       0       0        0       0           0       0     0     0
##   p2010b.txt       1       0        0       0           0       0     0     0
##   p2010c.txt       1       0        0       0           0       0     0     0
##   p2011a.txt       1       0        0       0           0       0     0     0
##             Terms
## Docs         awar background bank barack base behavior benefici benefit benoit
##   p2009a.txt    0          0    0      0    0        0        0       0      0
##   p2009b.txt    0          0    0      0    0        0        0       0      0
##   p2010a.txt    0          0    0      0    0        0        0       0      0
##   p2010b.txt    0          0    0      0    0        0        0       0      0
##   p2010c.txt    0          2    0      0    0        0        0       0      0
##   p2011a.txt    0          0    0      1    0        0        0       0      0
##             Terms
## Docs         big bioethic biraci black bloc bluecollar blur boycot boycott busi
##   p2009a.txt   0        0      0     0    0          0    0      0       0    0
##   p2009b.txt   0        0      0     0    0          0    0      0       0    0
##   p2010a.txt   0        0      0     0    0          0    0      0       0    0
##   p2010b.txt   0        0      0     0    0          0    0      0       0    0
##   p2010c.txt   0        0      0     0    0          0    0      1       1    0
##   p2011a.txt   0        0      3     4    0          0    0      0       0    0
##             Terms
## Docs         buycott candid captur case caus celebr central chanc charact
##   p2009a.txt       0      0      0    0    0      0       1     0       0
##   p2009b.txt       0      0      0    0    0      0       0     0       0
##   p2010a.txt       0      0      0    0    0      0       0     0       0
##   p2010b.txt       0      0      0    0    1      0       0     0       0
##   p2010c.txt       1      0      0    0    0      0       0     0       0
##   p2011a.txt       0      4      0    1    0      0       0     0       0
##             Terms
## Docs         characterist choic citat citizen citizenri citizens’ civic
##   p2009a.txt            1     0     0       3         0          0     0
##   p2009b.txt            1     0     0       1         1          0     0
##   p2010a.txt            1     0     0       0         0          0     2
##   p2010b.txt            0     0     0       0         0          0     0
##   p2010c.txt            0     0     0       0         0          0     2
##   p2011a.txt            0     1     0       1         0          2     0
##             Terms
## Docs         clariti classifi clinic close cluster coactiv coconstraint code
##   p2009a.txt       0        0      0     0       1       0            0    0
##   p2009b.txt       0        0      0     0       0       0            0    0
##   p2010a.txt       0        0      0     1       0       0            0    0
##   p2010b.txt       1        0      0     0       0       1            1    0
##   p2010c.txt       0        0      0     0       0       0            0    0
##   p2011a.txt       0        0      0     0       0       0            0    0
##             Terms
## Docs         coder coemerg coexist cognit cohes collect collectivist colleg
##   p2009a.txt     0       0       0      0     0       0            0      0
##   p2009b.txt     0       0       0      0     0       0            0      0
##   p2010a.txt     0       0       0      2     0       0            0      0
##   p2010b.txt     0       1       1      0     0       0            0      0
##   p2010c.txt     0       0       0      0     0       0            0      0
##   p2011a.txt     0       0       0      0     0       0            0      0
##             Terms
## Docs         combin comedi commitmentth commitmentus communic comorbid compar
##   p2009a.txt      0      0            0            0        0        0      0
##   p2009b.txt      0      4            0            0        0        0      0
##   p2010a.txt      0      0            0            0        0        0      0
##   p2010b.txt      0      0            0            0        0        0      0
##   p2010c.txt      0      0            0            0        0        0      0
##   p2011a.txt      0      0            0            0        0        0      0
##             Terms
## Docs         comparison compil complementari concept conceptu concern conclud
##   p2009a.txt          0      0             0       0        0       0       0
##   p2009b.txt          0      0             0       0        0       0       0
##   p2010a.txt          0      0             0       0        0       0       0
##   p2010b.txt          0      0             0       2        1       0       1
##   p2010c.txt          0      0             0       0        0       0       0
##   p2011a.txt          0      0             0       0        0       2       0
##             Terms
## Docs         conclus condit conduct conflict conjunct consensus consent consequ
##   p2009a.txt       0      0       0        0        0         0       0       0
##   p2009b.txt       0      0       0        0        0         0       0       0
##   p2010a.txt       0      0       0        0        0         0       0       0
##   p2010b.txt       0      0       0        3        0         0       0       0
##   p2010c.txt       0      0       0        0        0         0       0       0
##   p2011a.txt       0      0       0        0        0         0       0       0
##             Terms
## Docs         consequenti conserv construct consum consumer consumpt content
##   p2009a.txt           0       0         0      0        0        0       0
##   p2009b.txt           0       0         0      0        0        0       0
##   p2010a.txt           0       0         0      0        0        0       0
##   p2010b.txt           0       0         0      0        0        0       0
##   p2010c.txt           0       0         0      3        2        0       0
##   p2011a.txt           1       0         0      0        0        0       0
##             Terms
## Docs         contentanalyz contest context contrast contribut conveni convent
##   p2009a.txt             0       0       0        0         0       0       0
##   p2009b.txt             0       0       0        0         0       0       0
##   p2010a.txt             0       0       0        0         0       0       0
##   p2010b.txt             0       0       0        0         0       0       0
##   p2010c.txt             0       0       0        0         0       0       0
##   p2011a.txt             0       2       0        0         0       0       0
##             Terms
## Docs         correct correl cost counterargu countri crawl creat crosscultur
##   p2009a.txt       0      0    0           0       0     0     0           0
##   p2009b.txt       2      0    0           0       0     0     0           0
##   p2010a.txt       0      0    0           0       0     0     0           0
##   p2010b.txt       0      0    0           0       0     0     0           0
##   p2010c.txt       0      0    0           0       0     0     0           0
##   p2011a.txt       0      0    0           0       0     0     1           0
##             Terms
## Docs         crossparti crucial cultur culturespecif current cvc data
##   p2009a.txt          0       1      0             0       0   0    0
##   p2009b.txt          0       0      0             0       0   0    0
##   p2010a.txt          0       0      0             0       0   0    0
##   p2010b.txt          0       0      0             0       0   0    0
##   p2010c.txt          0       0      0             0       0   0    0
##   p2011a.txt          1       0      0             0       0   0    0
##             Terms
## Docs         datadriven dearth debat decis decreas defin definit delib deliber
##   p2009a.txt          0      0     0     0       0     0       0     1       2
##   p2009b.txt          0      0     2     0       0     0       0     0       0
##   p2010a.txt          0      0     1     0       0     0       0     1       1
##   p2010b.txt          0      0     0     0       0     1       1     0       0
##   p2010c.txt          0      0     0     0       0     0       0     0       0
##   p2011a.txt          0      0     0     1       0     0       0     0       0
##             Terms
## Docs         demand democraci democrat demograph demonstr depend depress detect
##   p2009a.txt      0         0        0         0        0      0       0      0
##   p2009b.txt      0         0        0         0        0      0       0      0
##   p2010a.txt      0         1        0         0        0      1       0      0
##   p2010b.txt      0         0        0         0        0      0       0      0
##   p2010c.txt      0         0        1         2        0      0       0      0
##   p2011a.txt      0         0        5         0        0      0       0      0
##             Terms
## Docs         develop differ difficulti diffus direct disappear discount
##   p2009a.txt       0      1          0      0      0         0        0
##   p2009b.txt       0      0          1      0      0         0        0
##   p2010a.txt       0      1          0      0      0         0        0
##   p2010b.txt       0      1          0      0      0         0        0
##   p2010c.txt       0      0          0      0      0         0        0
##   p2011a.txt       0      0          0      0      0         0        0
##             Terms
## Docs         discours discredit discret discuss dismissiveavoid distanc
##   p2009a.txt        0         0       0       1               0       0
##   p2009b.txt        0         0       0       1               0       0
##   p2010a.txt        0         0       0       0               0       0
##   p2010b.txt        0         0       0       0               0       0
##   p2010c.txt        0         1       0       1               0       0
##   p2011a.txt        0         0       0       0               0       0
##             Terms
## Docs         distinct distinguish distrust divers drama dramat draw drawn drive
##   p2009a.txt        0           0        0      1     0      0    1     0     0
##   p2009b.txt        0           0        0      0     0      0    1     0     0
##   p2010a.txt        0           0        0      3     0      0    1     0     0
##   p2010b.txt        1           0        0      0     0      0    0     0     0
##   p2010c.txt        0           1        0      0     0      0    1     0     0
##   p2011a.txt        0           0        0      0     0      0    0     0     0
##             Terms
## Docs         earlier easi easier effect effici elect elector elicit emerg emot
##   p2009a.txt       0    0      0      1      0     0       0      1     0    1
##   p2009b.txt       0    1      0      3      0     1       0      0     0    0
##   p2010a.txt       0    0      0      0      0     0       0      0     0    0
##   p2010b.txt       0    0      0      0      0     0       0      0     0    0
##   p2010c.txt       0    0      0      0      0     0       0      0     1    0
##   p2011a.txt       0    0      0      0      0     2       0      0     0    0
##             Terms
## Docs         emoticon emphas empir employ encount engag enhanc enjoy ensur
##   p2009a.txt        0      0     0      1       0     0      1     0     0
##   p2009b.txt        0      0     0      1       0     0      0     0     0
##   p2010a.txt        0      0     0      0       0     3      0     0     0
##   p2010b.txt        0      0     0      0       0     0      0     0     0
##   p2010c.txt        0      0     0      0       0     1      0     0     0
##   p2011a.txt        0      0     0      0       0     0      0     0     0
##             Terms
## Docs         environ equat erod eros estim evalu evid examin exampl exist
##   p2009a.txt       0     1    0    0     0     1    0      0      0     0
##   p2009b.txt       0     0    0    0     0     0    0      0      0     0
##   p2010a.txt       0     1    0    0     0     0    0      1      0     0
##   p2010b.txt       0     0    0    0     0     0    0      0      0     0
##   p2010c.txt       0     0    0    0     0     0    0      1      0     0
##   p2011a.txt       0     0    0    0     0     1    1      0      1     0
##             Terms
## Docs         exotic expans expenditur experi experienc experiment explain
##   p2009a.txt      0      0          0      2         0          0       0
##   p2009b.txt      0      0          0      0         0          0       0
##   p2010a.txt      0      0          0      0         0          0       0
##   p2010b.txt      0      0          0      0         1          0       0
##   p2010c.txt      0      0          0      0         0          0       0
##   p2011a.txt      0      0          0      0         0          0       1
##             Terms
## Docs         explor exportimport express extant extent extract eyeori facetofac
##   p2009a.txt      0            0       0      0      0       0      0         2
##   p2009b.txt      0            0       0      0      0       0      0         0
##   p2010a.txt      0            0       0      0      0       0      0         1
##   p2010b.txt      0            0       0      1      1       0      0         0
##   p2010c.txt      0            0       0      0      0       0      0         0
##   p2011a.txt      0            0       0      0      0       0      0         0
##             Terms
## Docs         facial facilit factor fail famous favor favorit fearfulavoid
##   p2009a.txt      0       0      4    0      0     0       0            0
##   p2009b.txt      0       0      0    0      0     0       0            0
##   p2010a.txt      0       0      0    0      0     0       0            0
##   p2010b.txt      0       0      0    0      0     0       0            0
##   p2010c.txt      0       0      0    0      0     0       0            0
##   p2011a.txt      0       0      2    1      0     1       2            0
##             Terms
## Docs         featur ferri fewer field find fivedimension focus followup foreign
##   p2009a.txt      0     0     0     0    1             0     0        0       0
##   p2009b.txt      0     0     1     0    0             0     0        0       0
##   p2010a.txt      0     0     0     0    1             0     0        3       0
##   p2010b.txt      0     0     0     1    1             0     0        0       0
##   p2010c.txt      0     0     0     0    2             0     0        0       0
##   p2011a.txt      0     0     0     0    0             0     1        0       0
##             Terms
## Docs         form format found fragment frame framework friend friendship futur
##   p2009a.txt    0      3     0        0     0         0      0          0     0
##   p2009b.txt    0      1     0        0     0         0      0          0     0
##   p2010a.txt    0      0     0        0     0         0      0          0     0
##   p2010b.txt    0      0     0        0     0         0      0          0     0
##   p2010c.txt    0      0     0        0     0         0      0          0     1
##   p2011a.txt    0      0     0        0     0         0      0          0     0
##             Terms
## Docs         gain garner garri gather general generat genet genr give goal good
##   p2009a.txt    0      0     0      0       0       0     0    0    0    1    0
##   p2009b.txt    1      0     0      0       1       0     0    1    0    0    0
##   p2010a.txt    0      0     0      0       0       0     0    0    0    0    0
##   p2010b.txt    0      0     0      0       0       0     0    0    0    0    0
##   p2010c.txt    0      0     0      0       0       1     0    0    0    0    0
##   p2011a.txt    0      1     0      0       0       0     0    0    0    0    0
##             Terms
## Docs         govern grammat gratif greater group growth gudykunst happen harm
##   p2009a.txt      0       0      0       0     0      0         0      0    0
##   p2009b.txt      0       0      0       0     0      0         0      0    1
##   p2010a.txt      0       0      0       0     0      0         0      0    0
##   p2010b.txt      0       0      0       0     1      0         0      0    0
##   p2010c.txt      0       0      0       0     0      0         0      0    0
##   p2011a.txt      0       0      0       0     0      0         0      0    0
##             Terms
## Docs         health healthcar heighten held high higher highest highlight
##   p2009a.txt      0         0        0    0    0      0       0         0
##   p2009b.txt      0         0        0    0    0      0       0         0
##   p2010a.txt      0         0        0    0    0      0       0         0
##   p2010b.txt      0         0        0    0    0      0       0         0
##   p2010c.txt      0         0        0    0    0      0       0         0
##   p2011a.txt      0         0        0    0    0      0       0         0
##             Terms
## Docs         hisher hispan histori hofsted hold homophil horizont human
##   p2009a.txt      0      0       0       0    0        0        0     0
##   p2009b.txt      0      0       0       0    0        0        0     0
##   p2010a.txt      0      0       0       0    0        0        0     0
##   p2010b.txt      0      0       0       0    0        0        0     0
##   p2010c.txt      0      0       0       0    0        0        0     0
##   p2011a.txt      0      0       1       0    0        0        0     0
##             Terms
## Docs         hypothes hypothesi icd identif identifi ideolog ideologu immigr
##   p2009a.txt        0         0   0       0        1       0        0      0
##   p2009b.txt        0         0   0       0        0       0        0      0
##   p2010a.txt        0         0   0       0        0       1        3      0
##   p2010b.txt        1         0   0       0        0       0        0      0
##   p2010c.txt        0         0   0       0        0       0        0      0
##   p2011a.txt        0         0   0       0        1       0        0      0
##             Terms
## Docs         imperfect implement impli implic import improp inattent inconclus
##   p2009a.txt         0         0     0      1      0      0        0         0
##   p2009b.txt         0         0     0      1      0      0        1         1
##   p2010a.txt         0         0     0      0      0      0        0         0
##   p2010b.txt         0         0     0      0      0      0        0         0
##   p2010c.txt         0         0     0      1      0      0        0         0
##   p2011a.txt         0         0     0      0      0      0        0         0
##             Terms
## Docs         inconsist increas incumb independ indic indirect individu
##   p2009a.txt         0       0      0        0     0        0        1
##   p2009b.txt         0       2      0        0     0        0        1
##   p2010a.txt         0       0      0        0     0        0        1
##   p2010b.txt         1       1      0        1     1        0        0
##   p2010c.txt         0       0      0        0     0        0        0
##   p2011a.txt         0       1      0        1     0        0        0
##             Terms
## Docs         individualist individuals’ industri influenc influenti inform
##   p2009a.txt             0             0        0        1         1      0
##   p2009b.txt             0             0        0        1         0      0
##   p2010a.txt             0             0        0        1         0      0
##   p2010b.txt             0             0        0        0         0      0
##   p2010c.txt             0             0        0        0         0      0
##   p2011a.txt             0             0        0        1         0      0
##             Terms
## Docs         infring instantan institut integr intent interact
##   p2009a.txt       0         0        0      0      0        0
##   p2009b.txt       0         0        0      0      0        0
##   p2010a.txt       0         0        0      0      0        0
##   p2010b.txt       0         0        0      1      0        0
##   p2010c.txt       0         0        0      0      0        0
##   p2011a.txt       0         0        0      0      0        0
##             Terms
## Docs         interdisciplinari interest interfac internet interperson interplay
##   p2009a.txt                 0        0        0        0           0         0
##   p2009b.txt                 0        0        0        0           0         0
##   p2010a.txt                 0        0        0        0           0         0
##   p2010b.txt                 1        0        0        0           0         0
##   p2010c.txt                 0        2        0        0           0         0
##   p2011a.txt                 0        0        0        0           0         0
##             Terms
## Docs         interpret interrelationship inton investig irt isol isp issu item
##   p2009a.txt         0                 1     0        0   0    0   0    0    0
##   p2009b.txt         0                 0     0        0   1    0   0    0    4
##   p2010a.txt         0                 0     0        0   0    0   0    0    0
##   p2010b.txt         0                 0     0        0   0    0   0    0    0
##   p2010c.txt         0                 0     0        0   0    0   0    2    0
##   p2011a.txt         0                 0     0        1   0    0   0    0    0
##             Terms
## Docs         john judg kingdom knowledg korea korean kpop lack larg largescal
##   p2009a.txt    0    0       0        0     0      0    0    0    0         0
##   p2009b.txt    0    0       0        6     0      0    0    0    0         0
##   p2010a.txt    0    0       0        0     0      0    0    0    0         0
##   p2010b.txt    0    0       0        0     0      0    0    2    0         0
##   p2010c.txt    0    0       0        0     0      0    0    0    0         0
##   p2011a.txt    1    0       0        0     0      0    0    0    0         0
##             Terms
## Docs         late laver lead level life lifestyleori likelihood limit line
##   p2009a.txt    0     0    0     0    0            0          0     0    0
##   p2009b.txt    4     0    0     0    0            0          1     0    0
##   p2010a.txt    0     0    1     0    0            0          0     0    0
##   p2010b.txt    0     0    0     0    0            0          0     0    0
##   p2010c.txt    0     0    0     0    0            1          0     0    0
##   p2011a.txt    0     0    0     0    0            0          0     0    0
##             Terms
## Docs         literatur local loneli lose low magnifi main maineffect maintain
##   p2009a.txt         0     0      0    0   0       0    0          0        0
##   p2009b.txt         0     0      0    0   0       0    0          0        0
##   p2010a.txt         0     0      0    0   0       0    0          0        0
##   p2010b.txt         1     0      0    0   0       0    0          0        0
##   p2010c.txt         0     0      0    0   0       0    0          0        0
##   p2011a.txt         0     0      0    1   0       0    0          0        0
##             Terms
## Docs         make male manifest maternalist mccain mean measur mechan media
##   p2009a.txt    0    0        0           0      0    0      0      0     0
##   p2009b.txt    0    0        0           0      0    0      1      0     2
##   p2010a.txt    0    0        0           0      0    0      0      1     0
##   p2010b.txt    0    0        0           0      0    0      1      0     0
##   p2010c.txt    0    0        0           0      0    0      1      0     0
##   p2011a.txt    0    0        0           0      1    0      0      0     0
##             Terms
## Docs         mediat mediationeffect medic mep merg messag message’ met
##   p2009a.txt      0               0     0   0    0      0         0   0
##   p2009b.txt      0               0     0   0    0      0         0   0
##   p2010a.txt      0               0     0   0    0      0         0   0
##   p2010b.txt      0               0     0   0    0      0         0   0
##   p2010c.txt      0               0     0   0    0      0         0   0
##   p2011a.txt      0               0     0   0    0      0         0   0
##             Terms
## Docs         metaanalysi method methodolog minor misus mix mobil model moder
##   p2009a.txt           0      0          1     0     0   0     0     1     0
##   p2009b.txt           1      0          0     0     0   0     0     3     0
##   p2010a.txt           0      0          0     0     0   0     1     1     2
##   p2010b.txt           0      1          0     0     0   0     0     1     0
##   p2010c.txt           0      0          0     0     0   0     0     0     0
##   p2011a.txt           0      0          0     0     0   0     0     0     0
##             Terms
## Docs         modern modifi motiv mouthori multipl multiraci music nation negat
##   p2009a.txt      0      0     1        0       0         0     0      1     0
##   p2009b.txt      0      0     0        0       0         0     0      1     0
##   p2010a.txt      0      0     0        0       0         0     0      1     0
##   p2010b.txt      0      0     0        0       0         0     0      0     1
##   p2010c.txt      0      0     0        0       0         0     0      1     0
##   p2011a.txt      0      0     0        0       0         0     0      1     0
##             Terms
## Docs         network news newsopinion night nonblack nonpolit nonvot novelti
##   p2009a.txt       1    0           0     0        0        0      0       0
##   p2009b.txt       0    0           0     4        0        0      0       0
##   p2010a.txt       0    0           0     0        0        0      0       0
##   p2010b.txt       0    0           0     0        0        0      0       0
##   p2010c.txt       0    0           0     0        0        0      0       0
##   p2011a.txt       0    0           0     0        0        0      1       0
##             Terms
## Docs         number obama obtain offer offici offlin older oneself onlin open
##   p2009a.txt      0     0      0     0      0      0     0       0     2    0
##   p2009b.txt      0     0      0     0      0      0     0       0     0    0
##   p2010a.txt      0     0      0     0      0      0     0       0     0    0
##   p2010b.txt      0     0      0     0      0      0     0       0     0    0
##   p2010c.txt      0     0      0     0      0      0     0       0     0    0
##   p2011a.txt      0     1      0     0      0      0     0       0     0    0
##             Terms
## Docs         openend operation opinion oppon opposit optim optin option
##   p2009a.txt       0         0       0     0       0     0     0      0
##   p2009b.txt       0         0       0     0       0     0     0      1
##   p2010a.txt       0         0       0     0       0     0     0      0
##   p2010b.txt       0         0       0     0       0     0     0      0
##   p2010c.txt       0         0       0     0       0     0     0      0
##   p2011a.txt       0         0       0     0       0     0     0      0
##             Terms
## Docs         ordinari organiz orient origin outcom overrepres overview paid
##   p2009a.txt        0       0      0      0      0          0        0    0
##   p2009b.txt        0       0      0      0      0          0        0    0
##   p2010a.txt        0       0      0      0      0          0        0    0
##   p2010b.txt        0       0      0      0      0          0        1    0
##   p2010c.txt        0       0      1      0      0          0        0    0
##   p2011a.txt        0       0      0      0      0          0        0    0
##             Terms
## Docs         panel paper paradox parasoci parti partial particip participatori
##   p2009a.txt     0     0       0        0     0       0        2             0
##   p2009b.txt     0     0       0        0     0       0        0             0
##   p2010a.txt     0     0       0        0     0       0        2             1
##   p2010b.txt     0     1       0        0     0       0        0             0
##   p2010c.txt     0     0       0        0     0       0        3             0
##   p2011a.txt     0     0       0        0     2       0        0             0
##             Terms
## Docs         past path pattern pay peopl people’ perceiv percept perform
##   p2009a.txt    0    0       0   0     0        0       1       0       0
##   p2009b.txt    0    0       0   0     0        0       0       0       0
##   p2010a.txt    0    0       0   0     0        0       3       0       0
##   p2010b.txt    0    0       0   0     0        0       0       0       0
##   p2010c.txt    0    0       0   0     0        0       0       0       0
##   p2011a.txt    0    0       0   0     0        0       1       0       0
##             Terms
## Docs         person perspect persuas phenomena physic plausiblefind polar
##   p2009a.txt      0        0       0         0      0             0     0
##   p2009b.txt      0        0       0         0      0             0     0
##   p2010a.txt      0        0       0         0      0             0     0
##   p2010b.txt      0        0       0         1      0             0     0
##   p2010c.txt      0        0       0         0      0             0     0
##   p2011a.txt      0        0       0         0      0             0     0
##             Terms
## Docs         polici policymak polit poll pop popular posit possess postmateri
##   p2009a.txt      0         0     0    0   0       0     0       0          0
##   p2009b.txt      0         0     4    0   0       0     0       0          0
##   p2010a.txt      0         0     4    0   0       0     0       0          0
##   p2010b.txt      0         0     1    0   0       1     1       0          0
##   p2010c.txt      0         0     9    0   0       0     0       1          1
##   p2011a.txt      0         0     6    0   0       0     0       0          0
##             Terms
## Docs         potenti power practic practition precis predict preexist prefer
##   p2009a.txt       0     0       1          0      0       0        0      0
##   p2009b.txt       0     0       1          0      0       0        0      0
##   p2010a.txt       0     0       0          0      0       0        0      0
##   p2010b.txt       1     0       0          1      1       0        0      0
##   p2010c.txt       1     0       0          0      0       0        0      0
##   p2011a.txt       0     1       0          0      0       0        0      0
##             Terms
## Docs         present presidenti previous primarili prior privaci privacyprotect
##   p2009a.txt       0          0        1         0     0       0              0
##   p2009b.txt       0          0        0         1     0       0              0
##   p2010a.txt       0          0        0         1     1       0              0
##   p2010b.txt       0          0        0         0     0       0              0
##   p2010c.txt       0          0        0         0     0       0              0
##   p2011a.txt       0          2        0         0     0       0              0
##             Terms
## Docs         privat probabl problem process produc product program prolifer
##   p2009a.txt      0       0       0       0      0       0       0        0
##   p2009b.txt      0       0       0       0      0       0       0        0
##   p2010a.txt      0       0       0       2      0       0       0        0
##   p2010b.txt      0       0       1       0      0       0       0        0
##   p2010c.txt      0       0       0       0      0       0       0        0
##   p2011a.txt      0       1       0       0      0       0       0        0
##             Terms
## Docs         promin promis promot prompt pronounc proper propos prospect
##   p2009a.txt      0      0      0      0        0      0      0        0
##   p2009b.txt      0      0      0      0        0      0      1        0
##   p2010a.txt      0      0      0      0        0      0      0        0
##   p2010b.txt      0      0      0      0        0      0      0        0
##   p2010c.txt      0      0      0      0        0      0      0        0
##   p2011a.txt      0      0      0      0        0      0      0        0
##             Terms
## Docs         protect provid provok proxim psycholog public publish quantifi
##   p2009a.txt       0      0      0      0         0      0       0        0
##   p2009b.txt       0      2      0      0         0      0       0        0
##   p2010a.txt       0      0      0      0         0      0       0        0
##   p2010b.txt       0      0      0      0         2      0       0        0
##   p2010c.txt       0      0      0      0         0      0       0        0
##   p2011a.txt       0      0      0      0         0      0       0        0
##             Terms
## Docs         questionnair racial racism rapid reaction receiv recent reciproc
##   p2009a.txt            0      0      0     0        0      0      0        0
##   p2009b.txt            0      0      0     0        0      0      0        0
##   p2010a.txt            0      0      0     0        2      0      0        0
##   p2010b.txt            0      0      0     0        0      0      0        0
##   p2010c.txt            0      0      0     0        0      0      1        0
##   p2011a.txt            0      0      0     0        0      0      0        0
##             Terms
## Docs         record reduc refer reflect regard regul relat relationship relev
##   p2009a.txt      0     0     0       0      0     0     0            0     0
##   p2009b.txt      0     0     0       0      0     0     0            0     0
##   p2010a.txt      0     0     0       0      0     0     0            0     0
##   p2010b.txt      0     0     1       0      0     0     0            0     1
##   p2010c.txt      0     0     0       0      0     0     0            0     0
##   p2011a.txt      0     1     0       0      0     0     0            0     0
##             Terms
## Docs         reli reliabl replic report repres requir research reson respond
##   p2009a.txt    1       0      0      0      1      0        0     0       0
##   p2009b.txt    0       0      0      0      0      0        1     0       0
##   p2010a.txt    0       0      0      1      1      0        1     0       0
##   p2010b.txt    0       0      0      0      0      0        0     0       0
##   p2010c.txt    0       0      0      0      0      0        1     0       0
##   p2011a.txt    1       0      0      0      0      0        1     0       0
##             Terms
## Docs         respons restrict result risk riski sad sampl satisfact scholar
##   p2009a.txt       0        0      0    0     0   0     0         0       0
##   p2009b.txt       4        0      0    0     0   0     0         0       1
##   p2010a.txt       0        0      1    0     0   0     1         0       0
##   p2010b.txt       0        0      0    0     0   0     0         0       0
##   p2010c.txt       0        0      0    0     0   0     1         0       1
##   p2011a.txt       0        0      0    0     0   0     0         0       0
##             Terms
## Docs         scholarship scienc score secur seem select selfesteem selfpresent
##   p2009a.txt           0      0     0     0    0      0          0           0
##   p2009b.txt           1      0     0     0    0      0          0           0
##   p2010a.txt           0      0     0     0    0      0          0           0
##   p2010b.txt           0      1     0     0    0      0          0           0
##   p2010c.txt           0      0     0     0    0      0          0           0
##   p2011a.txt           0      0     0     0    0      0          0           0
##             Terms
## Docs         sem sens serv servic set sewol share shortcom show signific
##   p2009a.txt   0    0    0      0   4     0     0        0    0        0
##   p2009b.txt   0    0    0      0   0     0     0        0    1        0
##   p2010a.txt   0    0    0      0   0     0     0        0    0        0
##   p2010b.txt   0    0    0      0   0     0     0        0    0        0
##   p2010c.txt   0    0    0      0   0     0     0        0    0        0
##   p2011a.txt   0    0    0      0   0     0     0        0    0        0
##             Terms
## Docs         similar site size skeptic sna sns snsrelat snss snss’ social
##   p2009a.txt       0    0    0       0   0   0        0    0      0      0
##   p2009b.txt       0    0    0       0   0   0        0    0      0      0
##   p2010a.txt       0    0    0       0   0   0        0    0      0      0
##   p2010b.txt       1    0    0       0   0   0        0    0      0      2
##   p2010c.txt       0    0    0       0   0   0        0    0      0      1
##   p2011a.txt       0    0    0       0   0   0        0    0      0      0
##             Terms
## Docs         societi sociolog sociopolit solidar sophist south specul spite
##   p2009a.txt       0        0          0       0       0     0      0     0
##   p2009b.txt       0        0          0       0       0     0      0     0
##   p2010a.txt       0        0          0       0       0     0      0     0
##   p2010b.txt       0        1          0       0       1     0      0     1
##   p2010c.txt       0        0          1       0       0     0      0     0
##   p2011a.txt       0        0          0       0       0     0      0     0
##             Terms
## Docs         state statist status stereotyp strength strong stronger structur
##   p2009a.txt     0       0      0         0        0      0        0        1
##   p2009b.txt     0       0      0         0        0      0        0        0
##   p2010a.txt     0       0      0         0        1      2        0        1
##   p2010b.txt     1       0      0         0        0      0        0        0
##   p2010c.txt     0       0      1         0        0      0        0        0
##   p2011a.txt     0       0      0         0        0      0        0        0
##             Terms
## Docs         student studi style subsampl substanti succeed success suggest
##   p2009a.txt       0     0     0        0         0       0       0       0
##   p2009b.txt       0     1     0        0         0       0       0       1
##   p2010a.txt       0     0     0        0         0       0       0       1
##   p2010b.txt       0     3     0        0         0       0       0       3
##   p2010c.txt       0     2     0        0         1       0       0       1
##   p2011a.txt       0     2     0        0         0       0       0       0
##             Terms
## Docs         summar support survey sway symbol systemat target technic techniqu
##   p2009a.txt      0       0      1    0      0        0      0       0        0
##   p2009b.txt      0       0      0    0      0        0      0       0        0
##   p2010a.txt      0       0      0    0      0        0      0       0        0
##   p2010b.txt      1       0      1    0      0        0      0       0        0
##   p2010c.txt      0       0      1    0      0        0      0       0        0
##   p2011a.txt      0       0      0    0      0        0      0       0        0
##             Terms
## Docs         technolog tend tendenc tentat term test text textual theoret
##   p2009a.txt         0    0       0      0    0    0    0       0       1
##   p2009b.txt         0    0       0      0    0    1    0       0       1
##   p2010a.txt         0    0       0      0    0    0    0       0       0
##   p2010b.txt         0    0       0      0    0    0    0       0       0
##   p2010c.txt         0    0       0      0    0    0    0       0       1
##   p2011a.txt         0    0       0      0    0    0    0       0       0
##             Terms
## Docs         theori thought time total trace trait treatment triangul trust
##   p2009a.txt      0       0    0     0     0     0         0        0     0
##   p2009b.txt      1       0    0     0     0     0         0        0     0
##   p2010a.txt      0       0    0     0     0     0         0        0     0
##   p2010b.txt      0       0    0     0     0     0         0        0     0
##   p2010c.txt      0       0    0     0     0     0         0        0     0
##   p2011a.txt      0       0    0     0     0     0         0        0     0
##             Terms
## Docs         turn tweet twitter type ultim under underscor understand
##   p2009a.txt    0     0       0    0     0     0         0          1
##   p2009b.txt    0     0       0    0     0     0         0          0
##   p2010a.txt    1     0       0    0     0     1         0          0
##   p2010b.txt    0     0       0    0     0     0         0          0
##   p2010c.txt    0     0       0    0     0     0         1          0
##   p2011a.txt    0     0       0    0     0     0         0          0
##             Terms
## Docs         unfamiliar unit unlik unnot upcom usag user users’ util valenc
##   p2009a.txt          0    0     0     1     0    0    0       0    0      0
##   p2009b.txt          0    0     0     0     0    0    0       0    1      0
##   p2010a.txt          0    0     0     0     0    0    0       0    0      0
##   p2010b.txt          0    0     0     0     0    0    0       0    1      0
##   p2010c.txt          0    0     0     0     0    0    0       0    0      0
##   p2011a.txt          0    0     0     0     0    0    0       0    0      0
##             Terms
## Docs         valu vari variabl varieti versa versus vertic vice video view vote
##   p2009a.txt    0    0       0       0     0      1      0    0     0    0    0
##   p2009b.txt    0    0       0       0     0      0      0    0     0    0    0
##   p2010a.txt    0    0       0       0     0      1      0    0     0    0    0
##   p2010b.txt    1    0       0       1     0      0      0    0     0    0    0
##   p2010c.txt    1    0       0       0     0      0      0    0     0    0    0
##   p2011a.txt    0    0       0       0     0      0      0    0     0    0    4
##             Terms
## Docs         voter vulner warn way weak white whites’ wide winner withinbloc
##   p2009a.txt     0      0    0   0    0     0        0    0      0          0
##   p2009b.txt     0      0    0   0    0     0        0    0      0          0
##   p2010a.txt     0      0    0   0    2     0        0    0      0          0
##   p2010b.txt     0      0    0   0    0     0        0    1      0          0
##   p2010c.txt     0      0    0   0    0     0        0    0      0          0
##   p2011a.txt     0      0    0   0    0     6        0    0      0          0
##             Terms
## Docs         withinsubject wordscor work worker world young younger youtub
##   p2009a.txt             1        0    0      0     0     0       0      0
##   p2009b.txt             0        0    0      0     0     0       0      0
##   p2010a.txt             0        0    0      0     0     0       0      0
##   p2010b.txt             0        0    0      0     0     0       0      0
##   p2010c.txt             0        0    0      0     0     0       0      0
##   p2011a.txt             0        0    0      0     0     0       0      0
```

- cf

```R
matrix(c(1:4), nrow=2)
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4

as.vector(matrix(c(1:4), nrow=2))
## [1] 1 2 3 4
```

```R
value.tf.dtm = as.vector(as.matrix(dtm.e))
head(value.tf.dtm, 100)
##   [1] 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
##  [38] 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0
##  [75] 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0
```

```R
value.tfidf.dtm = as.vector(as.matrix(dtm.e.tfidf))
head(value.tfidf.dtm, 100)
##   [1] 0.000000 0.000000 0.000000 0.000000 4.584963 0.000000 0.000000 0.000000
##   [9] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
##  [17] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
##  [25] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
##  [33] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 4.584963
##  [41] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
##  [49] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
##  [57] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 4.584963
##  [65] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
##  [73] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
##  [81] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 4.584963
##  [89] 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
##  [97] 0.000000 0.000000 0.000000 0.000000
```

```R
dim(dtm.e)
## [1]  24 694
```

```R
word.label.dtm = rep(colnames(dtm.e), 
                     each = dim(dtm.e)[1])
word.label.dtm[1:50]
##  [1] "‘buycotting’" "‘buycotting’" "‘buycotting’" "‘buycotting’"
##  [5] "‘buycotting’" "‘buycotting’" "‘buycotting’" "‘buycotting’"
##  [9] "‘buycotting’" "‘buycotting’" "‘buycotting’" "‘buycotting’"
## [13] "‘buycotting’" "‘buycotting’" "‘buycotting’" "‘buycotting’"
## [17] "‘buycotting’" "‘buycotting’" "‘buycotting’" "‘buycotting’"
## [21] "‘buycotting’" "‘buycotting’" "‘buycotting’" "‘buycotting’"
## [25] "‘optin’"      "‘optin’"      "‘optin’"      "‘optin’"     
## [29] "‘optin’"      "‘optin’"      "‘optin’"      "‘optin’"     
## [33] "‘optin’"      "‘optin’"      "‘optin’"      "‘optin’"     
## [37] "‘optin’"      "‘optin’"      "‘optin’"      "‘optin’"     
## [41] "‘optin’"      "‘optin’"      "‘optin’"      "‘optin’"     
## [45] "‘optin’"      "‘optin’"      "‘optin’"      "‘optin’"     
## [49] "‘optout’"     "‘optout’"
```

```R
doc.label.dtm = rep(row.names(dtm.e), times = dim(dtm.e)[2])
doc.label.dtm[1:25]
##  [1] "p2009a.txt" "p2009b.txt" "p2010a.txt" "p2010b.txt" "p2010c.txt"
##  [6] "p2011a.txt" "p2011b.txt" "p2012a.txt" "p2012b.txt" "p2013a.txt"
## [11] "p2014a.txt" "p2014b.txt" "p2014c.txt" "p2014d.txt" "p2014e.txt"
## [16] "p2014f.txt" "p2014g.txt" "p2014h.txt" "p2014i.txt" "p2014k.txt"
## [21] "p2015a.txt" "p2015b.txt" "p2015c.txt" "p2015d.txt" "p2009a.txt"
```

```R
mydata = data.frame(word.label.dtm, doc.label.dtm,
                    value.tf.dtm, value.tfidf.dtm)
head(mydata)
##   word.label.dtm doc.label.dtm value.tf.dtm value.tfidf.dtm
## 1 ‘buycotting’    p2009a.txt            0        0.000000
## 2 ‘buycotting’    p2009b.txt            0        0.000000
## 3 ‘buycotting’    p2010a.txt            0        0.000000
## 4 ‘buycotting’    p2010b.txt            0        0.000000
## 5 ‘buycotting’    p2010c.txt            1        4.584963
## 6 ‘buycotting’    p2011a.txt            0        0.000000
```

```R
colnames(mydata) = c("word", "doc", "tf", "tfidf")
head(mydata)
##             word        doc tf    tfidf
## 1 ‘buycotting’ p2009a.txt  0 0.000000
## 2 ‘buycotting’ p2009b.txt  0 0.000000
## 3 ‘buycotting’ p2010a.txt  0 0.000000
## 4 ‘buycotting’ p2010b.txt  0 0.000000
## 5 ‘buycotting’ p2010c.txt  1 4.584963
## 6 ‘buycotting’ p2011a.txt  0 0.000000
```

- 모수와 비모수

  - 모수적 : 알려진 확률분포를 기반으로 모수를 추정하는 모델

  - 비모수적 : 확률 분포를 따지지 않음

- 상관계수

  1. 연속형 & 연속형 (모수적) - 피어슨
     - 두 변수가 모두 정규분포를 따른다는 가정
     - -1 ~ 1

  2. 연속형 & 연속형 (비모수적) - 켄달, 스피어만
     - 두 변수가 정규성을 따르지 않는 경우
     - 스피어만 : 순위를 매겨서 상관계수를 구함
       - 따라서 순서형도 가능함
     - 켄달 : 두 변수 순위 비교 => 연관성
       - (C-D) / (C+D)
         - C : concordant pair의 수
         - D : disconcordant pair의 수

```R
cor.test(mydata$tf, mydata$tfidf, method = "kendall")
## 
##  Kendall's rank correlation tau
## 
## data:  mydata$tf and mydata$tfidf
## z = 130.44, p-value < 2.2e-16
## alternative hypothesis: true tau is not equal to 0
## sample estimates:
##       tau 
## 0.9838538
```

> 매우 높은 상관관계를 갖는다.

```R
cor.test(mydata$tf[mydata$tf > 0], mydata$tfidf[mydata$tf > 0], method = "kendall")
## 
##  Kendall's rank correlation tau
## 
## data:  mydata$tf[mydata$tf > 0] and mydata$tfidf[mydata$tf > 0]
## z = 20.994, p-value < 2.2e-16
## alternative hypothesis: true tau is not equal to 0
## sample estimates:
##       tau 
## 0.4656143
```

> TF 값의 순위가 높아도, TFIDF값의 순위가 높지 않은 경우가 적지 않다.

- 어떤 단어가 TF가 높고 TFIDF가 낮은지?

  1. 최소 0보다 큰 TF, TFIDF 데이터 추출
  2. TF값 > 중위수, TFIDF값 < 중위수 => 단어 확인
- class(mydata) => sub dataframe
- subset(mydata, 조건) \#1

```R
mydata2 = subset(mydata, tf>0 & tfidf>0)
```

- \# 2


```R
mydata3 = subset(mydata2, tf>median(tf) & tfidf<median(tfidf))
```

```R
str(mydata3)
## 'data.frame':    59 obs. of  4 variables:
##  $ word : Factor w/ 694 levels "‘buycotting’",..: 169 188 212 212 212 212 235 235 235 265 ...
##  $ doc  : Factor w/ 24 levels "p2009a.txt","p2009b.txt",..: 21 15 2 16 20 23 13 17 21 5 ...
##  $ tf   : num  2 2 3 2 3 3 2 2 2 2 ...
##  $ tfidf: num  2.83 3.56 2.65 1.77 2.65 ...
```

```R
table(mydata3$word)[table(mydata3$word)>0]
## 
##     data   differ   effect   examin     find  increas influenc   korean 
##        1        1        4        3        7        3        3        3 
##   nation    onlin  perceiv    polit research   result    sampl     show 
##        1        3        3        2        1        1        1        2 
##   social    studi   survey     user 
##        3       14        1        2
```



# R크롤링

- rvest 라이브러리 사용
- read_html()
- html_node()/html_nodes()
  - html_node() : 매칭된 요소 하나 추출(id 검색)
  - html_nodes() : 매칭된 모든 요소 추출(class, tag)
- html_text()

```R
install.packages("rvest")
library(rvest)
```

## 네이버 클립 제목 크롤링

```R
url_tvcast = "http://tv.naver.com/jtbc.youth"
html_tvcast = read_html(url_tvcast, encoding = "utf-8")

html_tvcast
## {html_document}
## <html lang="ko">
## [1] <head>\n<meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
## [2] <body class="   ch_home ">\n<div id="u_skip">\n    <a href="#aside" oncli ...
```

- class가 title인 부분 안에 있는 a 태그의 내용 추출

```R
html_tvcast %>% html_nodes(".title a")
## {xml_nodeset (26)}
##  [1] <a href="https://tv.naver.com/v/1081631" onclick="clickcr(this, 'chh.rep ...
##  [2] <a href="/v/1081631" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
##  [3] <a href="/v/1081613" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
##  [4] <a href="/v/1081586" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
##  [5] <a href="/v/1078547" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
##  [6] <a href="/v/1078540" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
##  [7] <a href="/v/1078506" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
##  [8] <a href="/v/1078477" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
##  [9] <a href="/v/1078471" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [10] <a href="/v/1078449" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [11] <a href="/v/1078431" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [12] <a href="/v/1078403" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [13] <a href="/v/1078343" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [14] <a href="/v/1078333" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [15] <a href="/v/1078331" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [16] <a href="/v/1078321" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [17] <a href="/v/1078318" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [18] <a href="/v/1077358" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [19] <a href="/v/1077340" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## [20] <a href="/v/1077331" onclick="clickcr(this, 'chh.vtit', '', '', '');"><t ...
## ...
```

```R
html_tvcast %>% 
  html_nodes(".title a") %>% html_text()
##  [1] "[워맨스 스페셜]나도 이런 연ㅇ..아니 우정 하고 싶다..."            
##  [2] "[워맨스 스페셜]나도 이런 연ㅇ..아니 우정 하고 싶다..."            
##  [3] "[메이킹] '똥차' 고두영 시원하게 때려잡는 하메들!"                 
##  [4] "[메이킹] 자그마치 윤선배가 사온 어묵이란 말입니다..!!"            
##  [5] "[청춘어록] 이 시대의 청춘들에게 바칩니다.. 괜찮다고"              
##  [6] "'여행.. 같이 가자고는 안 하네(삐죽)' 윤선배, 알고 보니 밀당고수!?"
##  [7] "선배 왜 웃어요'-'? 난 너만 보면 웃음이 나~^_^♥ (흑심 폴폴)"      
##  [8] "혜수를 위한 '선의의 거짓말' 이런 하메들 어디 있나요?"             
##  [9] "죽으려고 했는데.. 아무리 생각해도 죽고 싶지가 않아요"             
## [10] "사라진 박혜수, 같이 살면서 어떤 기분인지 몰랐어.. 속상해"         
## [11] "'왜 나만 걱정하고, 의심하고.. 엄마가 최악이야!!' 울분"            
## [12] "쏭의 필살애교☆ 너는 내 부탁을 들어주고 말 것이야(훗)"            
## [13] "가장 쉬우면서도 어려운.. '평범'하다는 건 어떤 걸까?"              
## [14] "진명 씨한테 나는 '아무나' 입니까? 난 더 특별한 사람인 줄···"   
## [15] "모녀의 눈물 '홀가분해. 자식 죽여놓고 이러면 안 되는데...'"        
## [16] "'장례식 예절' 옆사람 따라 자~연스럽게! 우리 미친 거 아니에요(풉)" 
## [17] "'나'에 대해 다 알게 돼도.. 너무 미워하지 말아요"                  
## [18] "[12회 예고] 그래도 삶은 계속된다"                                 
## [19] "[청춘 어록] 이 시대의 청춘들에게 바칩니다 -1"                     
## [20] "[11회 에필로그] 지일주 속마음 인터뷰"                             
## [21] "세상에 딱 '한 사람' 만이라도 나 좀 이해해줬으면···"            
## [22] "백마 탄 왕자님들 절 보러 오셨나요? (슝~) 내 짝지는 어디에..☆"    
## [23] "커터 칼로 찔러봤자 안 죽어요. (피 뚝뚝) 혜수야 죽지 마ㅠ_ㅠ"      
## [24] "[정여사 구출작전] OO호텔 근처, 똥차의 집을 찾아라!"               
## [25] "정여사의 어색한 말투, 하메들 촉 강림! 느낌 쎄-한데?"              
## [26] "조금 늦은 엄마의 진심 ＂그 립스틱 네 거야. 미안하다...＂"
```

```R
tvcast_res = html_tvcast %>% 
  html_nodes(".title a") %>% html_text()
class(tvcast_res)
## [1] "character"
```

```R
tvcast_res = html_tvcast %>% 
  html_nodes(".title a") %>% 
  html_text() %>% data.frame()
tvcast_res
##                                                                    .
## 1              [워맨스 스페셜]나도 이런 연ㅇ..아니 우정 하고 싶다...
## 2              [워맨스 스페셜]나도 이런 연ㅇ..아니 우정 하고 싶다...
## 3                   [메이킹] '똥차' 고두영 시원하게 때려잡는 하메들!
## 4              [메이킹] 자그마치 윤선배가 사온 어묵이란 말입니다..!!
## 5                [청춘어록] 이 시대의 청춘들에게 바칩니다.. 괜찮다고
## 6  '여행.. 같이 가자고는 안 하네(삐죽)' 윤선배, 알고 보니 밀당고수!?
## 7        선배 왜 웃어요'-'? 난 너만 보면 웃음이 나~^_^♥ (흑심 폴폴)
## 8               혜수를 위한 '선의의 거짓말' 이런 하메들 어디 있나요?
## 9               죽으려고 했는데.. 아무리 생각해도 죽고 싶지가 않아요
## 10          사라진 박혜수, 같이 살면서 어떤 기분인지 몰랐어.. 속상해
## 11             '왜 나만 걱정하고, 의심하고.. 엄마가 최악이야!!' 울분
## 12             쏭의 필살애교☆ 너는 내 부탁을 들어주고 말 것이야(훗)
## 13               가장 쉬우면서도 어려운.. '평범'하다는 건 어떤 걸까?
## 14    진명 씨한테 나는 '아무나' 입니까? 난 더 특별한 사람인 줄···
## 15         모녀의 눈물 '홀가분해. 자식 죽여놓고 이러면 안 되는데...'
## 16  '장례식 예절' 옆사람 따라 자~연스럽게! 우리 미친 거 아니에요(풉)
## 17                   '나'에 대해 다 알게 돼도.. 너무 미워하지 말아요
## 18                                  [12회 예고] 그래도 삶은 계속된다
## 19                      [청춘 어록] 이 시대의 청춘들에게 바칩니다 -1
## 20                              [11회 에필로그] 지일주 속마음 인터뷰
## 21             세상에 딱 '한 사람' 만이라도 나 좀 이해해줬으면···
## 22     백마 탄 왕자님들 절 보러 오셨나요? (슝~) 내 짝지는 어디에..☆
## 23       커터 칼로 찔러봤자 안 죽어요. (피 뚝뚝) 혜수야 죽지 마ㅠ_ㅠ
## 24                [정여사 구출작전] OO호텔 근처, 똥차의 집을 찾아라!
## 25               정여사의 어색한 말투, 하메들 촉 강림! 느낌 쎄-한데?
## 26          조금 늦은 엄마의 진심 ＂그 립스틱 네 거야. 미안하다...＂
```

```R
str(tvcast_res)
## 'data.frame':    26 obs. of  1 variable:
##  $ .: Factor w/ 25 levels "'나'에 대해 다 알게 돼도.. 너무 미워하지 말아요",..: 9 9 7 8 12 2 17 25 22 16 ...
```

> Factor가 아닌 character로 변환 필요

## 위키피디아 t분포 표 크롤링

```R
url_t = "https://en.wikipedia.org/wiki/Student%27s_t-distribution"
html_t = read_html(url_t, encoding = "utf-8")
html_t
## {html_document}
## <html class="client-nojs" lang="en" dir="ltr">
## [1] <head>\n<meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
## [2] <body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject  ...
```

```R
t_table = html_t %>% 
  html_nodes(".wikitable") %>% 
  html_table()
head(t_table[[1]])
##   One-sided   75%   80%   85%   90%   95% 97.5%   99% 99.5% 99.75% 99.9% 99.95%
## 1 Two-sided   50%   60%   70%   80%   90%   95%   98%   99%  99.5% 99.8%  99.9%
## 2         1 1.000 1.376 1.963 3.078 6.314 12.71 31.82 63.66  127.3 318.3  636.6
## 3         2 0.816 1.080 1.386 1.886 2.920 4.303 6.965 9.925  14.09 22.33  31.60
## 4         3 0.765 0.978 1.250 1.638 2.353 3.182 4.541 5.841  7.453 10.21  12.92
## 5         4 0.741 0.941 1.190 1.533 2.132 2.776 3.747 4.604  5.598 7.173  8.610
## 6         5 0.727 0.920 1.156 1.476 2.015 2.571 3.365 4.032  4.773 5.893  6.869
```

- html_text() : 텍스트 추출
- html_name() : attribute 명을 추출
- html_children() : 하위 요소 추출
- html_tag() : 태그명 추출
- html_attrs() : 속성으리 추출
- 자바스크립트로 된 문서는 스크래핑 불가

# KoNLP

```R
install.packages("Sejong")
install.packages("hash")
install.packages("tau")
install.packages("RSQLite")
install.packages("rgdal")
install.packages("geojsonio")
install.packages("rgeos")

library(httpuv)
library(rgdal)
library(geojsonio)
library(rgeos)

# 1. 폴더 다운로드
# KoNLP 파일 다운로드 링크
# https://drive.gumu.kr/sharing/9etX101Gs
# 
# 2. 다운로드 받은 후 압축 해제
# 
# 3. 압축 해제한 폴더를
# C:\Users\student\Documents\R\win-library\3.6
# 위치에 저장
# 
# 4. RStudio에서 library(KoNLP) 실행
# 
# 5.
# sentence <- '아버지가 방에 들어가신다'
# extractNoun(sentence)
# 
# 출력 결과
# "아버지", "방"
# 나오면 설치 완료
```

```R
library(KoNLP)
```

```R
my.text.location = "C:/Users/student/Desktop/R_script/논문data/ymbaek_논문"
mypaper = VCorpus(DirSource(my.text.location))
mypaper
## <<VCorpus>>
## Metadata:  corpus specific: 0, document level (indexed): 0
## Content:  documents: 19
```

```R
mypaper[[19]]$content
## [1] "본 논문의 목적은 언론학 교육과정(curriculum) 개선논의의 등장배경과 역사를 서술하고 그 필요성과 방향성을 제시하는 것이다. 본 논문에서는 컴퓨터 프로그래밍 언어와 데이터 수집 · 관리 · 분석 · 재현과 같은 데이터 과학관련 지식과 기술의 필요성을 강조하며 이를 언론학의 교과과정에 첨가 · 융합해야 한다는 주장의 등장배경과 필요성을 전반적으로 개괄 · 소개하였다. 또한 제도주의(institutionalism) 이론에 근거하여 언론학 교과과정을 ‘제도(institution)’로 파악하였으며, 제도를 둘러싼 이해관계자들로 ‘교수진’, ‘학생’, ‘학부모를 비롯한 일반인’, ‘다른 학문분과들’을 논의하였다. 이를 통해 기존의 교과과정과 새로운 교과과정이 특정 집단내부 혹은 집단 간 갈등을 일으킬 수 있으며, 이러한 갈등을 최소화시키고 협력가능성을 증대시킬 수 있는 방안을 추상적 수준에서나마 제안해 보았다."
```

```R
mykorean = mypaper[[19]]$content
```

- 전처리
  - `[[:alpha:]]` : 한글도 포함됨

```R
mytext = str_replace_all(mykorean, "[[:lower:]]", "")
mytext
## [1] "본 논문의 목적은 언론학 교육과정() 개선논의의 등장배경과 역사를 서술하고 그 필요성과 방향성을 제시하는 것이다. 본 논문에서는 컴퓨터 프로그래밍 언어와 데이터 수집 · 관리 · 분석 · 재현과 같은 데이터 과학관련 지식과 기술의 필요성을 강조하며 이를 언론학의 교과과정에 첨가 · 융합해야 한다는 주장의 등장배경과 필요성을 전반적으로 개괄 · 소개하였다. 또한 제도주의() 이론에 근거하여 언론학 교과과정을 ‘제도()’로 파악하였으며, 제도를 둘러싼 이해관계자들로 ‘교수진’, ‘학생’, ‘학부모를 비롯한 일반인’, ‘다른 학문분과들’을 논의하였다. 이를 통해 기존의 교과과정과 새로운 교과과정이 특정 집단내부 혹은 집단 간 갈등을 일으킬 수 있으며, 이러한 갈등을 최소화시키고 협력가능성을 증대시킬 수 있는 방안을 추상적 수준에서나마 제안해 보았다."
```

```R
mytext = str_replace_all(mytext, "\\(", "")
mytext = str_replace_all(mytext, "\\)", "")
mytext
## [1] "본 논문의 목적은 언론학 교육과정 개선논의의 등장배경과 역사를 서술하고 그 필요성과 방향성을 제시하는 것이다. 본 논문에서는 컴퓨터 프로그래밍 언어와 데이터 수집 · 관리 · 분석 · 재현과 같은 데이터 과학관련 지식과 기술의 필요성을 강조하며 이를 언론학의 교과과정에 첨가 · 융합해야 한다는 주장의 등장배경과 필요성을 전반적으로 개괄 · 소개하였다. 또한 제도주의 이론에 근거하여 언론학 교과과정을 ‘제도’로 파악하였으며, 제도를 둘러싼 이해관계자들로 ‘교수진’, ‘학생’, ‘학부모를 비롯한 일반인’, ‘다른 학문분과들’을 논의하였다. 이를 통해 기존의 교과과정과 새로운 교과과정이 특정 집단내부 혹은 집단 간 갈등을 일으킬 수 있으며, 이러한 갈등을 최소화시키고 협력가능성을 증대시킬 수 있는 방안을 추상적 수준에서나마 제안해 보았다."
```

```R
mytext = str_replace_all(mytext, "‘|’", "")
mytext = str_replace_all(mytext, " · ", ", ")
mytext
## [1] "본 논문의 목적은 언론학 교육과정 개선논의의 등장배경과 역사를 서술하고 그 필요성과 방향성을 제시하는 것이다. 본 논문에서는 컴퓨터 프로그래밍 언어와 데이터 수집, 관리, 분석, 재현과 같은 데이터 과학관련 지식과 기술의 필요성을 강조하며 이를 언론학의 교과과정에 첨가, 융합해야 한다는 주장의 등장배경과 필요성을 전반적으로 개괄, 소개하였다. 또한 제도주의 이론에 근거하여 언론학 교과과정을 제도로 파악하였으며, 제도를 둘러싼 이해관계자들로 교수진, 학생, 학부모를 비롯한 일반인, 다른 학문분과들을 논의하였다. 이를 통해 기존의 교과과정과 새로운 교과과정이 특정 집단내부 혹은 집단 간 갈등을 일으킬 수 있으며, 이러한 갈등을 최소화시키고 협력가능성을 증대시킬 수 있는 방안을 추상적 수준에서나마 제안해 보았다."
```

- 명사 추출

```R
noun.mytext = extractNoun(mytext)
noun.mytext
##  [1] "논문"       "목적"       "언론학"     "교육과정"   "개선"      
##  [6] "논의"       "등장"       "배경"       "역사"       "서술"      
## [11] "필요"       "성"         "방향"       "성"         "시하"      
## [16] "것"         "논문"       "컴퓨터"     "프로그래밍" "언어"      
## [21] "데이터"     "수집"       "관리"       "분석"       "재현"      
## [26] "데이터"     "과학"       "관련"       "지식"       "기술"      
## [31] "필요"       "성"         "강조"       "이"         "언론학"    
## [36] "교과과정"   "첨"         "융합"       "주장"       "등장"      
## [41] "배경"       "필요"       "성"         "전반"       "적"        
## [46] "개괄"       "소개"       "제도"       "주의"       "이론"      
## [51] "근거"       "언론학"     "교과과정"   "제도"       "파악"      
## [56] "제도"       "이해관계자" "들"         "교수진"     "학생"      
## [61] "학부모"     "비롯"       "한"         "일반"       "학문분과"  
## [66] "들"         "논의"       "이"         "기존"       "교과과정"  
## [71] "교과과정"   "특정"       "집단"       "내부"       "집단"      
## [76] "등"         "수"         "등"         "최소"       "화시"      
## [81] "키"         "협력가능성" "증대"       "수"         "방안"      
## [86] "추상"       "적"         "수준"       "제안"       "해"
```

```R
table(noun.mytext)
## noun.mytext
##       강조       개괄       개선         것       과학       관련       관리 
##          1          1          1          1          1          1          1 
##   교과과정     교수진   교육과정       근거       기술       기존       내부 
##          4          1          1          1          1          1          1 
##       논문       논의     데이터         들         등       등장       목적 
##          2          2          2          2          2          2          1 
##       방안       방향       배경       분석       비롯       서술         성 
##          1          1          2          1          1          1          4 
##       소개         수       수준       수집       시하     언론학       언어 
##          1          2          1          1          1          3          1 
##       역사       융합         이       이론 이해관계자       일반       재현 
##          1          1          2          1          1          1          1 
##         적       전반       제도       제안       주의       주장       증대 
##          2          1          3          1          1          1          1 
##       지식       집단         첨       최소       추상     컴퓨터         키 
##          1          2          1          1          1          1          1 
##       특정       파악 프로그래밍       필요   학문분과     학부모       학생 
##          1          1          1          3          1          1          1 
##         한         해 협력가능성       화시 
##          1          1          1          1
```

- DTM => TFIDF
- TF는 높고, IDF가 낮은 단어 추출

# 연습문제

## 1. 웹 스크래핑

- 네이버, 다음, 외국 포털, …
- 신문사, 언론사, …
- 기사 추출 -> tfidf 구성 -> 상관계수
- 기사 키워드 추출
- ex. 경제신문기사 -> 오늘, 어제, 그제, …
- corpus -> dtm -> tfidf -> cor

```R
# jtbc 뉴스룸 2020.02.18
newsroom_url = "http://news.jtbc.joins.com/Replay/news_replay.aspx?fcode=PR10000403&strSearchDate=20200218"
newsroom_html = read_html(newsroom_url, encoding = "utf-8")
newsroom_html
## {html_document}
## <html lang="ko">
## [1] <head id="Head1">\n<script type="text/javascript">document.domain="joins. ...
## [2] <body class="jtbc_news">\n\n    <!-- 130417추가 -->\n    <div class="skip_a ...
```

```R
newsroom_res = newsroom_html %>% 
  html_nodes(".bd") %>% 
  html_nodes(".title_cr") %>% 
  html_text()
# %>% 
#   data.frame(stringsAsFactors = FALSE)
newsroom_res
##  [1] "2월 18일 (화) 뉴스룸 다시보기 1부"                          
##  [2] "2월 18일 (화) 뉴스룸 다시보기 2부"                          
##  [3] "오늘의 주요뉴스"                                            
##  [4] "대구 31번째 환자도 해외여행력 없어…코로나19 새 국면"       
##  [5] "'감염원 미궁' 방역망 밖 환자 잇따라…지역 전파 '촉각'"      
##  [6] "중국 여행 뒤 사망한 30대 남성, '코로나19 무관' 판정"        
##  [7] "감기환자도 '겁나는' 동네병원…\"폐쇄 땐 보상 길 없어\""     
##  [8] "대통령 전용기 일본 도착…한국인 등 태우고 19일 '귀환'"      
##  [9] "이번엔 '해외 미션', 한국인 이송 투입된 공군 3호기는?"       
## [10] "'일 크루즈' 88명 또 감염…하선 앞둔 한국인 승객들 상황은?"  
## [11] "중국 흔드는 '코로나'…최대 정치행사 '양회'도 연기"          
## [12] "중국 간 WHO 조사팀, 정작 후베이성엔 안 가 논란"             
## [13] "문 대통령 \"현 상황, 비상시국\"…경제 살릴 수단 총동원령"   
## [14] "비상경영 아시아나, 조종사 포함 전 직원 첫 무급휴직"         
## [15] "현대자동차 공장, 재가동 하루 만에 다시 일부 휴업"           
## [16] "4인 가족이면 한달 38만원?…단속에도 '뛰는' 마스크값"        
## [17] "법원 \"메르스 80번 환자 유족에 정부가 2천만원 배상\" "      
## [18] "불탄 트럭 아래서 시신 추가 발견…사망자 5명으로"            
## [19] "제설작업에도 '쌓인 눈'…터널 사고 직전 CCTV 돌려보니"       
## [20] "[여론조사] 보수통합 후 첫 조사…이낙연 54.7% vs 황교안 37.."
## [21] "[여론조사] '정치 1번지' 종로 지지율로 본 '보수통합' 효과.." 
## [22] "지역구민 초청한 이낙연…'이낙연 동네' 누빈 황교안"          
## [23] "금태섭 지역구에 출마 선언한 김남국…'조국 대리전'"          
## [24] "'돈봉투' 처벌 전력…미래통합당, 영입발표 2시간 만에 취소"   
## [25] "\"통합민주당과 비슷\"…선관위, '민주통합당' 사용 불허"      
## [26] "이인영 \"심려 끼쳐 송구\"…'임미리 교수 고발' 공식 사과"    
## [27] "'긴급조치 9호' 손배소 기각…노태악 대법관 후보자 자격 논.." 
## [28] "'1억마리 꿀벌' 떼죽음…\"중국산 사료에 독성물질\" 공방"     
## [29] "'극단적 선택' 생각도…가습기살균제 피해, 여전한 고통"       
## [30] "유명 대입 컨설팅 업체 '대필 의혹'…수사만 1년 6개월째"      
## [31] "'조현아 연합' 사내이사 후보 1명, \"조원태 지지\" 돌연 사퇴" 
## [32] "[밀착카메라] \"돈이 안 돼요\"…'폐지 산' 쌓이는 제주도"     
## [33] "세월호 특수단, 김석균 등 해경 간부 11명 불구속 기소"        
## [34] "'침몰 원인' 못 밝힌 채…스텔라데이지호 회장 집행유예 1년"   
## [35] "\"50~60도 기관실서 12시간 이상 중노동…터질 게 터져\""      
## [36] "\"해외 관객들도 공감\"…'부재의 기억' 아카데미 뒷이야기"    
## [37] "[팩트체크] 도쿄 올림픽 '취소·연기' 누가 정하나?"           
## [38] "[뉴스브리핑] 수십억 소득 탈세혐의…입시 컨설턴트 등 세무.." 
## [39] "손흥민은 퇴장시키더니…같은 심판, 정반대 판정에 논란"       
## [40] "토트넘 \"손흥민, 오른팔 골절로 수술…수주 간 결장\""        
## [41] "[비하인드+] \"꿀벌이 사라지면 인류도 4년 내 멸망한다\"?"    
## [42] "[날씨] 추위 물러가고 낮 기온 올라…일교차 유의"             
## [43] "클로징 (BGM : Listening For The Weather - Bic Runga)"
```

```R
str(newsroom_res)
##  chr [1:43] "2월 18일 (화) 뉴스룸 다시보기 1부" ...
```

```R
newsroom_text = str_remove_all(newsroom_res, "[[:lower:]]|[[:upper:]]")
newsroom_text = str_remove_all(newsroom_text, "[[:number:]]")
newsroom_text = str_remove_all(newsroom_text, "\\\"")
newsroom_text = str_remove_all(newsroom_text, "\\(|\\)|\'|\\[|\\]|\\-|\\+|:|\\.|%|,|\\?")
newsroom_text = str_replace_all(newsroom_text, "~|·|…", " ")
a = DocumentTermMatrix(VCorpus(VectorSource(newsroom_text)))

inspect(a)
## <<DocumentTermMatrix (documents: 43, terms: 127)>>
## Non-/sparse entries: 138/5323
## Sparsity           : 97%
## Maximal term length: 7
## Weighting          : term frequency (tf)
## Sample             :
##     Terms
## Docs 가습기살균제 뉴스룸 다시보기 대통령 보수통합 여론조사 이낙연 코로나 한국인
##   10            0      0        0      0        0        0      0      0      1
##   11            0      0        0      0        0        0      0      1      0
##   14            0      0        0      0        0        0      0      0      0
##   22            0      0        0      0        0        0      2      0      0
##   23            0      0        0      0        0        0      0      0      0
##   27            0      0        0      0        0        0      0      0      0
##   28            0      0        0      0        0        0      0      0      0
##   41            0      0        0      0        0        0      0      0      0
##   8             0      0        0      1        0        0      0      0      1
##   9             0      0        0      0        0        0      0      0      1
##     Terms
## Docs 황교안
##   10      0
##   11      0
##   14      0
##   22      1
##   23      0
##   27      0
##   28      0
##   41      0
##   8       0
##   9       0
```

```R
newsroom_noun = extractNoun(newsroom_text)
newsroom_table = table(unlist(newsroom_noun))
newsroom_table
## 
##         가습기           가족           간부           감기           감염 
##              1              1              1              1              2 
##             값           개월             것             결           경영 
##              1              1              1              1              1 
##           경제           고발           골절             공           공감 
##              1              1              1              1              1 
##           공군           공식           공장             과           관객 
##              1              1              1              2              1 
##           교수             국             귀           극단         금태섭 
##              1              1              1              1              1 
##             기           기각         기관실           기억           기온 
##              3              1              1              1              1 
##       긴급조치             길         김남국         김석균           꿀벌 
##              1              1              1              1              2 
##             나           날씨           남성             낮             내 
##              1              1              1              1              1 
##             년           노태             논           누구             눈 
##              3              1              1              1              1 
##             뉴           뉴스             니       다시보기             단 
##              1              3              1              2              1 
##           단속             달             당             대           대구 
##              1              1              3              2              1 
##         대법관           대입         대통령           대필             도 
##              1              1              2              1              2 
##           도착           도쿄       독성물질             돈         돈봉투 
##              1              1              1              1              1 
##         돌려보             동           동네             뒤             뒷 
##              1              1              2              1              1 
##             드             들             등         떼죽음             란 
##              1              2              3              1              2 
##             령             로             룸           마리         마스크 
##              1              1              2              1              1 
##             만           만원             망         메르스             면 
##              3              1              1              1              1 
##           멸망             명           명으             무           무관 
##              1              3              1              1              1 
##         무급휴             문           미궁           미래           미션 
##              1              1              1              1              1 
##           민주           밀착             밖           발견           발표 
##              1              1              1              1              1 
##             방           방역             배             번           법원 
##              1              1              1              2              1 
##           병원           보상           보수             본             부 
##              1              1              2              1              2 
##           부재             불           불구         브리핑           비상 
##              1              1              1              1              1 
##       비상시국           비슷           사내           사료           사망 
##              1              1              1              1              1 
##         사망자           사용         살균제             상           상황 
##              1              1              1              1              2 
##           생각         선관위           선언           선택             세 
##              1              1              1              1              1 
##           세월             소           소득             속         손배소 
##              1              2              1              1              1 
##         손흥민       손흥민은           송구           수단           수사 
##              1              1              1              1              1 
##           수술         수십억           수주             스 스텔라데이지호 
##              1              1              1              1              1 
##           승객             시           시간           심려           심판 
##              1              1              2              1              1 
##           아래       아시아나       아카데미             악           양회 
##              1              1              1              1              1 
##             어             억             업           업체             없 
##              1              1              1              1              1 
##       여론조사           여전           여행           연기           연합 
##              2              1              1              1              1 
##           영입           오늘         오른팔         올림픽           용기 
##              1              1              1              1              1 
##             원             월             유           유명           유족 
##              3              2              1              1              1 
##             은             의           의혹         이낙연           이번 
##              1              1              1              3              1 
##           이사           이상           이송         이인영           인류 
##              1              1              1              1              1 
##             일         일교차           일부         임미리           입시 
##              5              1              1              1              1 
##           자격         자동차             장           재가             적 
##              1              1              1              1              1 
##             전           전력           전파         정반대           정부 
##              1              1              1              1              1 
##           정치       정치행사       제설작업           제주           조국 
##              1              1              1              1              1 
##           조사         조사팀           조원         조종사         조현아 
##              1              1              1              1              1 
##             종           주요           중국         중국산         중노동 
##              1              1              3              1              1 
##           지역         지역구       지역구민         지지율           직원 
##              1              1              1              1              1 
##           직전       집행유예             징             채           처벌 
##              1              1              1              1              1 
##             천             첫           체크           초청         총동원 
##              1              2              1              1              1 
##           최대           추가           추위           출마             취 
##              1              1              1              1              1 
##           취소           침몰         카메라       컨설턴트         컨설팅 
##              1              1              1              1              1 
##             코         크루즈           클로       탈세혐의             태 
##              3              1              1              1              1 
##             터           터널         토트넘           통합       통합민주 
##              1              1              1              4              1 
##             퇴           퇴장           투입           트럭           특수 
##              1              1              1              1              1 
##             판           판정           팩트           폐쇄           폐지 
##              1              1              1              1              1 
##           포함           하루           하선           하인             한 
##              1              1              1              1              6 
##         한국인             해           해외     해외여행력           현대 
##              3              1              2              1              1 
##             호             화             환           환자           황교 
##              3              2              1              4              2 
##           회장             효             후     후베이성엔           후보 
##              1              1              1              1              1 
##         후보자 
##              1
```

```R
max(newsroom_table[nchar(names(newsroom_table))>1])
## [1] 4
```



## 2. 한글 paper DTM, TFIDF

